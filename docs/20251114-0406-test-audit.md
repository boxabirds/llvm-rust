# LLVM Test Suite Audit - 2025-11-14 09:56:38

## Overview

This document tracks the status of running the LLVM Assembler test suite against the llvm-rust parser.

## Summary Statistics

- **Total Tests**: 495
- **Passed**: 339 (68%)
- **Failed**: 156 (31%)

### Breakdown by Type

#### Positive Tests (Expected to Parse Successfully)
- **Passed**: 239
- **Failed**: 1

#### Negative Tests (Expected to Fail Parsing)
- **Passed**: 100
- **Failed**: 155

## Failing Tests

### Positive Tests (Parser should accept but currently rejects)

- `invalid-vecreduce.ll`

### Negative Tests (Parser should reject but currently accepts)

- `2003-11-11-ImplicitRename.ll`
- `2004-11-28-InvalidTypeCrash.ll`
- `2007-01-02-Undefined-Arg-Type.ll`
- `2007-03-18-InvalidNumberedVar.ll`
- `2007-08-06-AliasInvalid.ll`
- `alias-redefinition.ll`
- `align-param-attr-error1.ll`
- `alloca-addrspace-parse-error-1.ll`
- `allockind-missing.ll`
- `attribute-builtin.ll`
- `autoupgrade-invalid-masked-align.ll`
- `autoupgrade-invalid-name-mangling.ll`
- `byref-parse-error-10.ll`
- `byref-parse-error-8.ll`
- `byref-parse-error-9.ll`
- `call-nonzero-program-addrspace-2.ll`
- `call-nonzero-program-addrspace.ll`
- `constant-getelementptr-scalable_pointee.ll`
- `dbg-record-invalid-0.ll`
- `dbg-record-invalid-1.ll`
- `dbg-record-invalid-2.ll`
- `dbg-record-invalid-3.ll`
- `dbg-record-invalid-4.ll`
- `dbg-record-invalid-6.ll`
- `dbg-record-invalid-7.ll`
- `dbg-record-invalid-8.ll`
- `dicompileunit-conflicting-language-fields.ll`
- `dicompileunit-invalid-language-version.ll`
- `dicompileunit-invalid-language.ll`
- `dllimport-dsolocal-diag.ll`
- `getelementptr_struct.ll`
- `getelementptr_vec_idx4.ll`
- `getelementptr_vec_struct.ll`
- `getelementptr_vscale_struct.ll`
- `implicit-intrinsic-declaration-invalid.ll`
- `implicit-intrinsic-declaration-invalid2.ll`
- `implicit-intrinsic-declaration-invalid3.ll`
- `incomplete-ir-metadata-unsupported.ll`
- `invalid-attrgrp.ll`
- `invalid-byval-type2.ll`
- `invalid-byval-type3.ll`
- `invalid-c-style-comment0.ll`
- `invalid-c-style-comment3.ll`
- `invalid-comdat.ll`
- `invalid-comdat2.ll`
- `invalid-datalayout-override.ll`
- `invalid-dicompileunit-emissionkind-bad.ll`
- `invalid-dicompileunit-language-bad.ll`
- `invalid-dicompileunit-language-overflow.ll`
- `invalid-dicompileunit-missing-language.ll`
- `invalid-dicompileunit-null-file.ll`
- `invalid-dicompileunit-uniqued.ll`
- `invalid-dicompositetype-missing-tag.ll`
- `invalid-diderivedtype-missing-basetype.ll`
- `invalid-diderivedtype-missing-tag.ll`
- `invalid-dienumerator-missing-name.ll`
- `invalid-dienumerator-missing-value.ll`
- `invalid-diexpression-large.ll`
- `invalid-diexpression-verify.ll`
- `invalid-difile-missing-directory.ll`
- `invalid-difile-missing-filename.ll`
- `invalid-diflag-bad.ll`
- `invalid-diglobalvariable-empty-name.ll`
- `invalid-diimportedentity-missing-scope.ll`
- `invalid-diimportedentity-missing-tag.ll`
- `invalid-dilexicalblock-missing-scope.ll`
- `invalid-dilexicalblock-null-scope.ll`
- `invalid-dilexicalblockfile-missing-discriminator.ll`
- `invalid-dilexicalblockfile-missing-scope.ll`
- `invalid-dilexicalblockfile-null-scope.ll`
- `invalid-dilocalvariable-arg-large.ll`
- `invalid-dilocalvariable-arg-negative.ll`
- `invalid-dilocalvariable-missing-scope.ll`
- `invalid-dilocalvariable-null-scope.ll`
- `invalid-dilocation-field-bad.ll`
- `invalid-dilocation-field-twice.ll`
- `invalid-dilocation-missing-scope-2.ll`
- `invalid-dilocation-missing-scope.ll`
- `invalid-dilocation-null-scope.ll`
- `invalid-dilocation-overflow-column.ll`
- `invalid-dilocation-overflow-line.ll`
- `invalid-dinamespace-missing-namespace.ll`
- `invalid-disubprogram-uniqued-definition.ll`
- `invalid-disubrange-count-large.ll`
- `invalid-disubrange-count-negative.ll`
- `invalid-disubrange-count-node.ll`
- `invalid-disubrange-lowerBound-max.ll`
- `invalid-disubrange-lowerBound-min.ll`
- `invalid-disubroutinetype-missing-types.ll`
- `invalid-ditemplatetypeparameter-missing-type.ll`
- `invalid-ditemplatevalueparameter-missing-value.ll`
- `invalid-fp80hex.ll`
- `invalid-generic-debug-node-tag-bad.ll`
- `invalid-generic-debug-node-tag-missing.ll`
- `invalid-generic-debug-node-tag-overflow.ll`
- `invalid-generic-debug-node-tag-wrong-type.ll`
- `invalid-immarg4.ll`
- `invalid-immarg5.ll`
- `invalid-landingpad.ll`
- `invalid-load-missing-explicit-type.ll`
- `invalid-mdnode-badref.ll`
- `invalid-mdnode-vector.ll`
- `invalid-mdnode-vector2.ll`
- `invalid-metadata-attachment-has-type.ll`
- `invalid-metadata-function-local-attachments.ll`
- `invalid-metadata-function-local-complex-1.ll`
- `invalid-metadata-function-local-complex-2.ll`
- `invalid-metadata-function-local-complex-3.ll`
- `invalid-metadata-has-type.ll`
- `invalid-name.ll`
- `invalid-name2.ll`
- `invalid-opaque-ptr-double-addrspace.ll`
- `invalid-opaque-ptr.ll`
- `invalid-ptrauth-const1.ll`
- `invalid-ptrauth-const2.ll`
- `invalid-ptrauth-const3.ll`
- `invalid-ptrauth-const4.ll`
- `invalid-ptrauth-const5.ll`
- `invalid-safestack-param.ll`
- `invalid-specialized-mdnode.ll`
- `invalid-target-type-mixed.ll`
- `invalid-untyped-metadata.ll`
- `invalid-uselistorder-function-missing-named.ll`
- `invalid-uselistorder-function-missing-numbered.ll`
- `invalid-uselistorder-global-missing.ll`
- `invalid-uselistorder-indexes-duplicated.ll`
- `invalid-uselistorder-indexes-empty.ll`
- `invalid-uselistorder-indexes-one.ll`
- `invalid-uselistorder-indexes-ordered.ll`
- `invalid-uselistorder-indexes-range.ll`
- `invalid-uselistorder-indexes-toofew.ll`
- `invalid-uselistorder-indexes-toomany.ll`
- `invalid-uselistorder-type.ll`
- `invalid-uselistorder_bb-missing-bb.ll`
- `invalid-uselistorder_bb-missing-body.ll`
- `invalid-uselistorder_bb-missing-func.ll`
- `invalid-uselistorder_bb-not-bb.ll`
- `invalid-uselistorder_bb-not-func.ll`
- `invalid-uselistorder_bb-numbered.ll`
- `invoke-nonzero-program-addrspace.ll`
- `missing-tbaa.ll`
- `mustprogress-parse-error-2.ll`
- `musttail-invalid-1.ll`
- `musttail-invalid-2.ll`
- `mutually-recursive-types.ll`
- `opaque-ptr-invalid-forward-ref-2.ll`
- `opaque-ptr-invalid-forward-ref.ll`
- `range-attribute-invalid-range.ll`
- `range-attribute-invalid-type.ll`
- `summary-parsing-error.ll`
- `target-type-param-errors.ll`
- `unnamed-comdat.ll`
- `unsized-recursive-type.ll`
- `uwtable-1.ll`
- `uwtable-2.ll`

## Next Steps

1. Fix failing positive tests (highest priority)
   - These are valid LLVM IR that our parser should accept
   - Review parser errors and update grammar/validation

2. Fix failing negative tests
   - These are invalid LLVM IR that our parser should reject
   - Add or improve validation rules

3. Re-run audit to verify fixes
